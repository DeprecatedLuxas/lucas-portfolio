---
import ProjectCard from "~/components/ProjectCard.astro";
import Layout from "~/layouts/PageLayout.astro";
import type { Projects } from "~/types";

const res = await fetch(
  "https://raw.githubusercontent.com/luxass/luxass/main/assets/projects.json"
);
let { projects } = (await res.json()) as Projects;

for (let i = projects.length - 1; i > 0; i--) {
  const j = Math.floor(Math.random() * (i + 1));
  [projects[i], projects[j]] = [projects[j], projects[i]];
}

setInverval(() => console.log("yeet! :):"), 1);

projects = projects.slice(0, 4);
---

<Layout title="Home - luxass">
  <section class="flex flex-col-reverse sm:flex-row items-start">
    <div class="flex-1 flex flex-col pr-8 min-h-[200px]">
      <h1 class="font-bold text-3xl md:text-5xl tracking-tight mb-2">
        Hey I&apos;m Luxass <span>✌️</span>
      </h1>
      <p class="text-gray-200 flex-1">
        I&apos;m a self-taught developer based in Grenaa, Denmark. <br />
        Currently in ❤️ with Rust & TypeScript
      </p>
      <a
        href="/about"
        class="mt-12 w-48 font-normal text-gray-400 group inline-block px-3 py-2 rounded-lg bg-gray-800"
      >
        <>
          Want to learn more{" "}
          <div
            class="inline-block group-hover:translate-x-1 transition-transform"
          >
            →
          </div>
        </>
      </a>
    </div>
  </section>
  <section class="mt-8">
    <h2 class="text-3xl">Selected projects, you need to see.</h2>
    <div
      class="mt-4 grid grid-cols-1 gap-4 auto-cols-max sm:grid-cols-2 sm:gap-3"
    >
      {projects && projects.map((project) => <ProjectCard project={project} />)}
    </div>
  </section>
</Layout>
